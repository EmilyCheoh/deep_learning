{"version":3,"sources":["App.js","components/TimeSeriesChart.js","index.js"],"names":["line_graph","React","Component","labels","datasets","label","data","fill","borderColor","line_graph_cases","line_graph_testing","bar_graph_cases","backgroundColor","borderWidth","hoverBackgroundColor","hoverBorderColor","display","labelString","lineHeight","fontColor","fontFamily","fontSize","fontStyle","padding","bar_graph_testing","doughnut_chart_all","TabName","TabData","name","isActive","MyTabs","className","map","tab","this","props","activeTab","handleClick","changeTab","bind","MyTab","onClick","href","TabContent","state","error","isLoaded","cases","tested","date","daily_confirmed","fetch","mode","then","res","json","result","daily_tested","i","length","push","case","substr","positiveIncrease","totalTestResults","totalTestResultsIncrease","setState","Container","fluid","id","Navv","NavDropdownExample","Card","Body","Title","as","Text","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dba9585d.chunk.js","sourcesContent":["import { Bar, Doughnut, Line } from \"react-chartjs-2\";\nimport React from \"react\";\nimport { Nav, Navbar, Container, Row, Col, Card } from \"react-bootstrap\";\nimport TimeSeriesChart from \"./components/TimeSeriesChart\"\nimport \"./App.css\";\n\n\nconst line_graph = {\n    labels: [],\n    datasets: [\n        {\n            label: \"Number of Cases\",\n            data: [],\n            fill: false,\n            borderColor: \"#DC143C\",\n        },\n        {\n            label: \"Number of Tests Conducted\",\n            data: [],\n            fill: false,\n            borderColor: \"#006400\",\n        },\n    ],\n};\n\nconst line_graph_cases = {\n    labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"],\n    datasets: [\n        {\n            label: \"Number of Daily Confirmed Cases\",\n            //backgroundColor: \"rgba(75,192,192,0.2)\",\n            //borderColor: \"rgba(255,99,132,1)\",\n            //borderWidth: 3,\n            data: [2, 1, 2, 1, 1, 1],\n            fill: false,\n            borderColor: \"#DC143C\",\n        },\n    ],\n};\n\nconst line_graph_testing = {\n    labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"],\n    datasets: [\n        {\n            label: \"Number of Tests Conducted Daily\",\n            data: [4, 5, 7, 10, 9, 10],\n            fill: false,\n            borderColor: \"#006400\",\n        },\n    ],\n};\n\nconst linegraphunemployment = {\n    labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\"],\n    datasets: [\n        {\n            label: \"Number of Unemployment Claims Filed per Month\",\n            data: [227789, 218785, 264127, 1004365, 1302154],\n            fill: false,\n            borderColor: \"#00008B\",\n        },\n    ],\n};\n\nconst bar_graph_cases = {\n    labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"],\n    datasets: [\n        {\n            label: \"Number of Daily Confirmed Cases\",\n            data: [1, 3, 6, 10, 20, 36],\n            backgroundColor: \"#DC143C\",\n            borderColor: \"DC143C\",\n            borderWidth: 1,\n            hoverBackgroundColor: \"#CD5C5C\",\n            hoverBorderColor: \"#CD5C5C\",\n            display: true,\n            labelString: \"Number of Daily Confirmed Cases\",\n            lineHeight: 1.2,\n            fontColor: \"#666\",\n            fontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            fontSize: 12,\n            fontStyle: \"normal\",\n            padding: 4,\n        },\n    ],\n};\n\nconst bar_graph_testing = {\n    labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"],\n    datasets: [\n        {\n            label: \"Number of Daily Tests Conducted Daily\",\n            data: [1, 3, 6, 10, 20, 36],\n            backgroundColor: \"#006400\",\n            borderColor: \"#006400\",\n            borderWidth: 1,\n            hoverBackgroundColor: \"#8FBC8F\",\n            hoverBorderColor: \"#8FBC8F\",\n            display: true,\n            labelString: \"Number of Daily Confirmed Cases\",\n            lineHeight: 1.2,\n            fontColor: \"#666\",\n            fontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            fontSize: 12,\n            fontStyle: \"normal\",\n            padding: 4,\n        },\n    ],\n};\n\nconst bargraphunemployment = {\n    labels: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\"],\n    datasets: [\n        {\n            label: \"Number of Unemployment Claims Filed per Month\",\n            data: [227789, 218785, 264127, 1004365, 1302154],\n            backgroundColor: \"#00008B\",\n            borderColor: \"#00008B\",\n            borderWidth: 1,\n            hoverBackgroundColor: \"#6495ED\",\n            hoverBorderColor: \"#6495ED\",\n            display: true,\n            labelString: \"Number of Cases per Month\",\n            lineHeight: 1.2,\n            fontColor: \"#666\",\n            fontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n            fontSize: 12,\n            fontStyle: \"normal\",\n            padding: 4,\n        },\n    ],\n};\n\nconst polarchartall = {\n    datasets: [\n        {\n            data: [10, 20, 30],\n            backgroundColor: [\"#DC143C\", \"#006400\", \"#00008B\", \"#E7E9ED\", \"#36A2EB\"],\n            label: \"Effects of Govt Orders in June 2020, IL\", // for legend\n        },\n    ],\n    labels: [\n        \"Total Number of Cases\",\n        \"Total Tests Conducted\",\n        \"Total Unemployment Claims\",\n    ],\n};\n\nconst doughnut_chart_all = {\n    datasets: [\n        {\n            data: [10, 20, 30],\n            backgroundColor: [\"#DC143C\", \"#006400\", \"#00008B\", \"#E7E9ED\", \"#36A2EB\"],\n            label: \"Effects of Govt Orders in June 2020, IL\", // for legend\n        },\n    ],\n    labels: [\"Number of Cases\", \"Tests Conducted\", \"Unemployment Claims\"],\n};\n\n\nvar TabName = [\n    \"Project Overview\",\n    \"Motivation\",\n    \"Methods\",\n    \"Results\",\n];\n\nvar TabData = [\n    { name: TabName[0], isActive: true },\n    { name: TabName[1], isActive: false },\n    { name: TabName[2], isActive: false },\n    { name: TabName[3], isActive: false },\n];\n\nclass MyTabs extends React.Component {\n    render() {\n        return (\n            <ul className=\"nav nav-tabs\">\n                {TabData.map(\n                    function (tab) {\n                        return (\n                            <MyTab\n                                data={tab}\n                                isActive={this.props.activeTab === tab}\n                                handleClick={this.props.changeTab.bind(this, tab)}\n                            />\n                        );\n                    }.bind(this)\n                )}\n            </ul>\n        );\n    }\n}\n\nclass MyTab extends React.Component {\n    render() {\n        return (\n            <li\n                onClick={this.props.handleClick}\n                className={this.props.isActive ? \"active\" : null}\n            >\n                <a href=\"#\">{this.props.data.name}</a>\n            </li>\n        );\n    }\n}\n\nclass TabContent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            cases: [],\n            tested: [],\n            date: [],\n            daily_confirmed: [],\n        };\n    }\n\n    componentDidMount() {\n        fetch('http://127.0.0.1:5000/case19', {\n            mode: \"cors\",\n        })\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    var cases = [], date = [], daily_confirmed = [], tested = [], daily_tested = [];\n                    for (var i = 0; i < result.length; i++) {\n                        cases.push(result[i].case);\n                        date.push(result[i].date.substr(4, 2) + \"-\" + result[i].date.substr(6, 2));\n                        daily_confirmed.push(result[i].positiveIncrease);\n                        tested.push(result[i].totalTestResults);\n                        daily_tested.push(result[i].totalTestResultsIncrease);\n                    }\n                    this.setState({\n                        isLoaded: true,\n                        cases: cases,\n                        date: date,\n                        tested: tested,\n                        daily_confirmed: daily_confirmed,\n                        daily_tested: daily_tested,\n                    });\n                },\n                (error) => {\n                    this.setState({\n                        isLoaded: true,\n                        error\n                    });\n                }\n            );\n    }\n\n    render() {\n        const { error, isLoaded, cases, date, daily_confirmed, tested, daily_tested } = this.state;\n        line_graph.datasets[0].data = cases;\n        line_graph.datasets[1].data = tested;\n        line_graph.labels = date;\n        line_graph_cases.datasets[0].data = daily_confirmed;\n        line_graph_cases.labels = date;\n        bar_graph_cases.datasets[0].data = daily_confirmed;\n        bar_graph_cases.labels = date;\n        line_graph_testing.labels = date;\n        line_graph_testing.datasets[0].data = daily_tested;\n        bar_graph_testing.labels = date;\n        bar_graph_testing.datasets[0].data = daily_tested;\n        doughnut_chart_all.datasets[0].data = [cases[cases.length - 1], tested[tested.length - 1], 2570646];\n        return (\n            <Container className=\"content\">\n                {this.props.activeTab.name === TabName[0] ? (\n                    <Container fluid>\n                        <section className=\"panel panel-danger\">\n                            <h2 className=\"panel-heading\">Project Overview</h2>\n                            <p className=\"panel-body\">\n                                Sentiment analysis has been a critical task of natural language processing (NLP). In this project, we focus on analyzing sentiments of short movies reviews using Bi-LSTM models. We construct four variations of Bi-LSTM models, namely Word2vec-based Bi-LSTM, Word2vec-based Bi-LSTM with Attention model, BERT-based Bi-LSTM, and BERT-based Bi-LSTM with Attention model, and compare the performance of our models with other popular NLP models. Through our experiments, we find that the BERT-based Bi-LSTM with Attention model achieves the best overall results.\n                            </p>\n                        </section>\n                        <Container fluid>\n                            <div className=\"spacing\" />\n                            <Line id=\"line_graph\" data={line_graph} />\n                            <div className=\"graphspacing\" />\n                            <Doughnut data={doughnut_chart_all} />\n                            <div className=\"graphspacing\" />\n                        </Container>\n                    </Container>\n                ) : null}\n                {this.props.activeTab.name === TabName[1] ? (\n                    <Container fluid>\n                        <section className=\"panel panel-danger\">\n                            <h2 className=\"panel-heading\">Motivation</h2>\n                            <p className=\"panel-body\">\n                                The prevalence of the internet greatly propagates the amount of user-generated contents. As user-generated contents usually reflect the thinkings of the authors, they contain valuable information that can be helpful to multiple stakeholders. For example, a movie producer might want to know how audiences are reacting to her latest movie by reading through the comments and reviews online. It is reasonable to argue that such an approach is not efficient enough if there are thousands of reviews available, and it is natural to think of whether it is possible to use deep learning techniques to systematically analyze such information on a large scale. Hence, for this project, we propose to test the performance of various deep learning models on predicting sentiments of movie reviews, and we want to focus on short reviews in particular because they are usually hard to train due to the limited length. Another challenge of analyzing short reviews is that they often contain a lot of verbal language and may not be written in standard English grammar.\n                            </p>\n                        </section>\n                        {/* <Container fluid>\n                            <div className=\"spacing\" />\n                            <TimeSeriesChart type=\"CASES\" />\n                            <div className=\"graphspacing\" />\n                            <Line data={line_graph_cases} />\n                            <div className=\"graphspacing\" />\n                            <Bar data={bar_graph_cases} />\n                            <div className=\"graphspacing\" />\n                        </Container> */}\n                    </Container>\n                ) : null}\n                {this.props.activeTab.name === TabName[2] ? (\n                    <Container fluid>\n                        <section className=\"panel panel-danger\">\n                            <h2 className=\"panel-heading\">Methods</h2>\n                            <p className=\"panel-body\">\n                                <p>We train our models on the IMDB movie sentiment dataset provided by [4]. The dataset contains 50,000 binary labeled movie reviews for training and testing, with the reviews equally divided into training and testing sets. 50,000 unlabeled data are also included for unsupervised training.</p>\n                                <p>We analyze the dataset by examining the distribution of text length. As shown in figure 2.1, the majority of  reviews are within the length of 250 words. As we focus on short movie reviews for the project, we decide to use 200 as the maximum text length to filter out long reviews. We then perform data cleansing for feature construction by decapitalizing all the letters and removing punctuations and stopwords. We also remove words with low frequency because they may be typos and do not carry significant meaning.</p>\n                            </p>\n                            <p className=\"panel-body\">\n                                <p>After the preprocessing is done, we experiment with two different models to generate word embeddings that are later used as the input of our deep learning models. We first use the Word2vec model. We specify to use the Skip-gram method to train, which predicts the word based on relevant context. We choose Skip-gram over CBOW because it is good at representing rare words and has higher accuracy.</p>\n                                <p>We also use the BERT model to generate sentence embeddings as it is a relatively new model and is good at resolving polysemy, so we wonder if using word embeddings from the BERT model can improve accuracy. We use the BERT base model with 12 layers. Although it is possible to use the output of any layer as the word embeddings for later use, we find that the output of the 11th layer produces the best results. If we use the output from earlier layers, the model may not be sufficiently trained; if we directly use the output from the last layer, it would be too similar to the original text. </p>\n                                <p>We then construct a Bi-LSTM model with 128 neurons for training, with each neuron defining a forward LSTM structure and a reverse LSTM structure. We then concatenate their outputs, and pass it to the next layer of the Bi-LSTM model. </p>\n                                <p>To examine whether combining the Attention model with Bi-LSTM can improve accuracy, we pass the result of the last layer of the Bi-LSTM model to an Attention model. We then apply the tanh activation function to the output, multiply it with the weight vector, calculate the softmax, and pass the final result to the fully connected layer.</p>\n                            </p>\n                        </section>\n\n                    </Container>\n                ) : null}\n                {this.props.activeTab.name === TabName[3] ? (\n                    <Container fluid>\n                        <section className=\"panel panel-danger\">\n                            <h2 className=\"panel-heading\">Results</h2>\n                            <p className=\"panel-body\">\n                                <p>Because we're performing binary classification, our predicting results belong to one of the following four outcomes: true positive, true negative), false positive, and false negative. Therefore, we measure performance by four metrics: Area under the ROC Curve (AUC), Accuracy (ACC), precision (PRE), and recall (REC). Ideally, we would like to maximize all of the above metrics. </p>\n\n                                <p>We compare both our Word2Vec-based model and BERT-based model against four other commonly used deep learning NLP models such as textCNN and CharCNN, as well as a single directional LSTM model. The results are shown in the following table:</p>\n                                <table className=\"results\">\n                                    <tr>\n                                        <th>Model</th>\n                                        <th>ACC</th>\n                                        <th>AUC</th>\n                                        <th>PRE</th>\n                                        <th>REC</th>\n                                    </tr>\n                                    <tr>\n                                        <td>TextCNN</td>\n                                        <td>0.8616</td>\n                                        <td>0.9332</td>\n                                        <td>0.8726</td>\n                                        <td>0.8503</td>\n                                    </tr>\n                                    <tr>\n                                        <td>CharCNN</td>\n                                        <td>0.8379</td>\n                                        <td>0.9176</td>\n                                        <td>0.8383</td>\n                                        <td>0.8381</td>\n                                    </tr>\n                                    <tr>\n                                        <td>LSTM</td>\n                                        <td>0.8571</td>\n                                        <td>0.9201</td>\n                                        <td>0.8626</td>\n                                        <td>0.8120</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Word2Vec-based Bi-LSTM</td>\n                                        <td>0.8451</td>\n                                        <td>0.9064</td>\n                                        <td>0.8975</td>\n                                        <td>0.8029</td>\n                                    </tr>\n                                    <tr>\n                                        <td>Word2Vec-based Bi-LSTM+Attention</td>\n                                        <td>0.8762</td>\n                                        <td>0.9381</td>\n                                        <td>0.9077</td>\n                                        <td>0.8615</td>\n                                    </tr>\n                                    <tr>\n                                        <td>BERT-based Bi-LSTM</td>\n                                        <td>0.8841</td>\n                                        <td>0.9293</td>\n                                        <td>0.9257</td>\n                                        <td>0.8592</td>\n                                    </tr>\n                                    <tr>\n                                        <td>BERT-based Bi-LSTM+Attention</td>\n                                        <td>0.9343</td>\n                                        <td>0.9506</td>\n                                        <td>0.9517</td>\n                                        <td>0.9239</td>\n                                    </tr>\n                                  \n                                </table>\n\n                            </p>\n\n\n\n                        </section>\n                        {/* <Container fluid>\n\n                            <Line data={linegraphunemployment} />\n                            <div className=\"graphspacing\" />\n                            <Bar data={bargraphunemployment} />\n                            <div className=\"graphspacing\" />\n                        </Container> */}\n\n                    </Container>\n                ) : null}\n            </Container>\n        );\n    }\n}\n\n\nclass Navv extends React.Component {\n    constructor(props) {\n        super();\n        this.state = {\n            // Takes active tab from props if it is defined there\n            activeTab: TabData[0],\n        };\n\n        // Bind the handleSelect function already here (not in the render function)\n        // this.handleSelect = (tab) => this.setState({ activeTab: tab });\n    }\n\n    handleClick = (MyTab) => {\n        this.setState({ activeTab: MyTab });\n    };\n\n    render() {\n        return (\n            <Container fluid>\n                <MyTabs activeTab={this.state.activeTab} changeTab={this.handleClick} />\n                <TabContent activeTab={this.state.activeTab} />\n            </Container>\n        );\n    }\n}\n\nfunction NavDropdownExample() {\n    const handleSelect = (eventKey) => alert(`selected ${eventKey}`);\n    return (\n        <Container fluid className=\"header-image-style\">\n            {/* <Image className=\"header-style\" src={header_img} fluid /> */}\n            <Card className=\"text-center transparent-0 header-text\">\n                {/* <Card.Header>Featured</Card.Header> */}\n                <Card.Body>\n                    <Card.Title className=\"mainheader-text\" as=\"h1\">\n                        Testing the Performances of Variations of the Bi-LSTM model on Sentiment Analysis\n                    </Card.Title>\n                    <div className='info'>\n                        <Card.Text className=\"subheader-text\" as=\"h4\">\n                            Emily Qiao, Jianzhe Xiao\n                    </Card.Text>\n                        <Card.Text className=\"subheader-text\" as=\"h4\">\n                            contact email: emqiao@gmail.com\n                    </Card.Text>\n                        <Card.Text className=\"subheader-text\" as=\"h4\">\n                            Final project for CS 496 Deep Learning, taught by Professor Bryan Pardo\n                    </Card.Text>\n                        <Card.Text className=\"subheader-text\" as=\"h4\">\n                            Link to final paper\n                    </Card.Text>\n                    </div>\n                </Card.Body>\n            </Card>\n\n            <Container fluid>\n                <Navv />\n            </Container>\n        </Container>\n    );\n}\n\nconst App = () => <NavDropdownExample />;\n\nexport default App;\n","import React from 'react';\nimport { EventChart, Charts, ChartContainer, ChartRow, YAxis, LineChart, Legend, styler } from \"react-timeseries-charts\";\nimport { TimeSeries, Index, TimeRange, TimeRangeEvent } from \"pondjs\";\n\nclass TimeSeriesChart extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            cases: [],\n            tested: []\n        };\n    };\n\n    componentDidMount() {\n        fetch('http://127.0.0.1:5000/case', { mode: \"cors\" })\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    var cases = [], tested = [];\n                    for (var i = 0; i < result.length; i++) {\n                        var daily_case = [], daily_tested = [];\n                        //daily_case.push(Index.getIndexString(\"1d\", new Date(result[i].date)), result[i].case);\n                        daily_case.push(result[i].date, result[i].case);\n                        cases.push(daily_case);\n                        daily_tested.push(result[i].date, result[i].test);\n                        tested.push(daily_tested);\n                    }\n                    this.setState({\n                        cases: cases,\n                        tested: tested\n                    });\n                },\n            )\n    }\n\n    render() {\n        const { cases, tested } = this.state;\n        const data1 = [\n            [\"2020-04-01\", 264127],\n            [\"2020-05-01\", 1004365],\n            [\"2020-06-01\", 1302154],\n        ];\n        const data = this.props.type === \"CASES\" ? cases : this.props.type === \"TESTING\" ? tested : data1;\n        var timeseries = new TimeSeries({\n            name: \"case-data\",\n            columns: [\"index\", \"num_cases\"],\n            points: data.map(([d, value]) => [\n                Index.getIndexString(\"1d\", new Date(d)),\n                value\n            ])\n        });\n\n        const ordersData = [\n            {\n                startTime: \"2020-03-21\",\n                endTime: \"2020-04-07\",\n                title: \"Phase 1\",\n                key: \"HOME\"\n            },\n            {\n                startTime: \"2020-04-07\",\n                endTime: \"2020-05-29\",\n                title: \"Phase 2\",\n                key: \"ESSENTIAL\"\n            },\n            {\n                startTime: \"2020-05-29\",\n                endTime: \"2020-06-03\",\n                title: \"Phase 3A\",\n                key: \"ILDINING\"\n            },\n            {\n                startTime: \"2020-06-03\",\n                endTime: \"2020-06-15\",\n                title: \"Phase 3B\",\n                key: \"CHIDINING\"\n            },\n        ];\n\n        function ordersStyleCallback(event, state) {\n            let color;\n            const key = event.get(\"key\");\n\n            if (key === \"HOME\") {\n                color = \"#C8D5B8\"\n            } else if (key === \"ESSENTIAL\") {\n                color = \"#9BB8D7\"\n            } else if (key === \"ILDINING\") {\n                color = \"#c0a7d1\"\n            } else if (key === \"CHIDINING\") {\n                color = \"#ffd1e1\"\n            }\n\n            switch (state) {\n                case \"normal\":\n                    return {\n                        fill: color,\n                        opacity: 0.4,\n                        height: 300,\n                    };\n                case \"hover\":\n                    return {\n                        fill: color,\n                        opacity: 0.7,\n                        height: 300,\n                    };\n                case \"selected\":\n                    return {\n                        fill: color\n                    };\n            }\n        }\n\n        const ordersEvents = ordersData.map(\n            ({ startTime, endTime, ...data }) =>\n                new TimeRangeEvent(new TimeRange(new Date(startTime), new Date(endTime)), data)\n        );\n\n        const ordersSeries = new TimeSeries({ name: \"orders\", events: ordersEvents });\n\n        const legendStyle = styler([\n            { key: \"HOME\", color: \"#C8D5B8\" },\n            { key: \"ESSENTIAL\", color: \"#9BB8D7\" },\n            { key: \"ILDINING\", color: \"#c0a7d1\" },\n            { key: \"CHIDINING\", color: \"#ffd1e1\" },\n        ]);\n        return (\n            <div>\n                <Legend\n                    type=\"swatch\"\n                    style={legendStyle}\n                    categories={[\n                        { key: \"HOME\", label: \"Phase 1: Initial Stay at Home Order\" },\n                        { key: \"ESSENTIAL\", label: \"Phase 2: Outdoor Activities Allowed\" },\n                    ]}\n                />\n                <Legend\n                    type=\"swatch\"\n                    style={legendStyle}\n                    categories={[\n                        { key: \"ILDINING\", label: \"Phase 3A: Non-Chicago Outdoor Dining\" },\n                        { key: \"CHIDINING\", label: \"Phase 3B: Chicago Outdoor Dining\" }\n                    ]}\n                />\n                <div style={{ height: \"20px\" }} />\n                {/* <ChartContainer timeRange={new TimeRange(new Date(\"2020-03-15\"), new Date(\"2020-06-10\"))} width={1050}>\n                    <ChartRow height=\"300\">\n                        {this.props.type === \"CASES\" ?\n                            (<YAxis id=\"axis1\" label=\"Number of Cases (hundreds)\" min={0} max={50} width=\"60\" type=\"linear\" />) :\n                            null\n                        }\n                        {this.props.type === \"TESTING\" ?\n                            (<YAxis id=\"axis1\" label=\"Number of Tests Conducted (hundreds)\" min={0} max={300} width=\"60\"\n                                type=\"linear\" />) :\n\n                            null\n                        }\n                        {this.props.type === \"UNEMPLOYMENT\" ?\n                            (<YAxis id=\"axis1\" label=\"Number of Unemployed (hundreds)\" min={0} max={300} width=\"60\" type=\"linear\" />) :\n                            null\n                        }\n                        <Charts>\n                            <LineChart axis=\"axis1\" columns={[\"num_cases\"]} series={timeseries} />\n                            <EventChart\n                                series={ordersSeries}\n                                style={(ordersStyleCallback)}\n                                label={e => e.get(\"title\")} />\n                        </Charts>\n                    </ChartRow>\n                </ChartContainer> */}\n            </div>\n        );\n    }\n}\n\nexport default TimeSeriesChart;","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById('root')\n// );\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}